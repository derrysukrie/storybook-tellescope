import { Meta, Canvas, ArgTypes, Story } from "@storybook/addon-docs/blocks"
import { Dialog } from './Dialog';
import * as DialogStories from './Dialog.stories.ts';

<Meta of={DialogStories} />

# Dialog

The Dialog component is a versatile modal dialog built with Material UI v5 that provides a consistent way to display alerts, forms, confirmations, and other interactive content.

## Features

- **Multiple Sizes**: Choose from 3 different sizes (`xs`, `sm`, `md`) to fit your content
- **Flexible Actions**: Support for customizable action buttons with different colors and variants
- **Title**: Optional title for the dialog
- **Close Button**: Optional close button in the top-right corner for easy dismissal
- **Collapsible**: Option to minimize dialog to title bar only, useful for keeping dialogs accessible but out of the way
- **Background Control**: Option to show or hide the background overlay/backdrop


## Basic Usage

The Dialog component displays with sample content and can be configured using the available controls.

**To view the dialog examples:**
1. Click on any story below to open it in the Canvas
2. Use the **Controls** panel to toggle the dialog settings
3. The dialog will update based on your control selections

<Canvas of={DialogStories.Default} />

## Collapsible Dialog

Make dialogs collapsible to minimize them to just the title bar, useful for keeping dialogs accessible but out of the way:

<Canvas of={DialogStories.Collapsed} />

## Controls

The following controls are available for customizing the dialog:

- **Size**: Choose from xs, sm, or md
- **Actions**: Configure action buttons (array of button objects)
- **Background**: Toggle the background overlay/backdrop
- **Close Button**: Toggle the close button in the top-right corner
- **Collapsible**: Enable collapsible functionality (available in specific stories)

## Props

<ArgTypes of={Dialog} />

## Action Object Interface

The `actions` prop accepts an array of objects with the following structure:

```typescript
interface DialogAction {
  label: string;                    // Button text
  onClick: () => void;              // Click handler
  color?: 'primary' | 'error' | 'secondary' | 'success' | 'info' | 'warning';
  variant?: 'contained' | 'outlined' | 'text';
  disabled?: boolean;               // Whether the button is disabled
  closeButton?: boolean;            // Whether this action includes a close button
}
```

## Examples

### Basic Dialog
```tsx
<Dialog
  open={open}
  size="sm"
  background={true}
>
  <Typography>This is a sample dialog description that explains what the dialog is for and provides context to the user.</Typography>
</Dialog>
```

### Dialog with Actions
```tsx
<Dialog
  open={open}
  size="md"
  background={true}
  actions={[
    { label: 'Cancel', onClick: handleClose, variant: 'text' },
    { label: 'Confirm', onClick: handleConfirm, variant: 'contained' }
  ]}
/>
```

### Dialog with Close Button
```tsx
<Dialog
  open={open}
  size="sm"
  background={true}
  closeButton={true}
  actions={[
    { label: 'Cancel', onClick: handleClose, variant: 'text' },
    { label: 'Save', onClick: handleSave, variant: 'contained' }
  ]}
/>
```

### Collapsible Dialog
```tsx
<Dialog
  open={open}
  size="sm"
  background={true}
  collapsible={true}
  closeButton={true}
  actions={[
    { label: 'Cancel', onClick: handleClose, variant: 'text' },
    { label: 'Apply', onClick: handleApply, variant: 'contained' }
  ]}
/>
```

## Available Sizes

- **xs**: Extra small dialog for minimal content
- **sm**: Small dialog (default) for standard use cases
- **md**: Medium dialog for more content or forms

## Best Practices

1. **Use appropriate sizes**: Choose the size that best fits your content without excessive white space
2. **Clear button labels**: Use descriptive labels that clearly indicate what will happen
3. **Consistent colors**: Use `error` color for destructive actions, `primary` for main actions
4. **Close button**: Consider adding a close button for non-critical dialogs
5. **Collapsible option**: Use collapsible dialogs for non-blocking notifications or secondary information
6. **Background control**: Use background overlay for modal dialogs, consider disabling for overlay content

## Accessibility

The Dialog component includes built-in accessibility features:

- **Focus management**: Focus is automatically trapped within the dialog
- **Keyboard navigation**: Tab cycles through interactive elements
- **Screen reader support**: Proper ARIA labels and roles are automatically applied
- **Color contrast**: Material UI ensures proper color contrast for all variants 